<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html">
  <picture data-sly-test="${properties.viewPortLayout == '6-viewport'}" data-sly-use.viewPortObj="${resource.path}">
    <sly data-sly-list="${viewPortObj.listChildren}">
      <source data-sly-test="${item.fileReference}" srcset="${item.fileReference}" media="(max-width: ${item.media})">
    </sly>
    <sly data-sly-list="${viewPortObj.listChildren}">
      <sly data-sly-test="${item.media == '1920px'}">
        <img src="${item.fileReference}" class="${!wcmmode.edit ? 'cover' : ''} lazyloaded" alt="${item.altText}">
      </sly>
    </sly>
  </picture>

  <picture data-sly-test="${properties.viewPortLayout == '4-viewport'}" data-sly-use.viewPortObj="${resource.path}">
    <sly data-sly-list="${viewPortObj.listChildren}">
      <sly data-sly-test="${item.media == '414px' || item.media == '540px' || item.media == '768px' || item.media == '1440px'}">
        <source data-sly-test="${item.fileReference}" srcset="${item.fileReference}" media="(max-width: ${item.media})">
      </sly>
    </sly>
    <sly data-sly-list="${viewPortObj.listChildren}">
      <sly data-sly-test="${item.media == '1440px'}">
        <img src="${item.fileReference}" class="${!wcmmode.edit ? 'cover' : ''} lazyloaded" alt="${item.altText}">
      </sly>
    </sly>
  </picture>

  <picture data-sly-test="${properties.viewPortLayout == '3-viewport'}" data-sly-use.viewPortObj="${resource.path}">
    <sly data-sly-list="${viewPortObj.listChildren}">
      <sly data-sly-test="${item.media == '414px' || item.media == '768px' || item.media == '992px'}">
        <source data-sly-test="${item.fileReference}" srcset="${item.fileReference}" media="(max-width: ${item.media})">
      </sly>
    </sly>
    <sly data-sly-list="${viewPortObj.listChildren}">
      <sly data-sly-test="${item.media == '992px'}">
        <img src="${item.fileReference}" class="${!wcmmode.edit ? 'cover' : ''} lazyloaded" alt="${item.altText}">
      </sly>
    </sly>
  </picture>
</sly>
<sly data-sly-call="${templates.placeholder @ isEmpty = !resource.hasChildren}"></sly>